<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>滚动拖拽效果</title>
		<style type="text/css">
			*{margin: 0;padding: 0;}
			#warp{width: 600px;height: 600px;border: 1px solid #ccc;margin: 30px auto;overflow: hidden;position: relative;}
			#warp #count{width: 500px;padding: 20px;float: left;text-indent: 2em;position: absolute;left: 0;top: 0;}
			#warp #count p{margin-bottom: 20px;}
			#warp #scroll{height: 600px;width: 20px;background: #ccc;border-left: 1px solid #fff;float: right;position: relative;cursor: pointer;}
			#warp #scroll #box{width: 20px;height: 20px;background: gray;cursor: pointer;position: absolute;top: 0;left: 0;}
		</style>
	</head>
	<body>
		<div id="warp">
			<div id="count">
				<h1>大學</h1>
				<p>
					《大学》出自《礼记》，原本是《礼记》四十九篇中的第四十二篇。
				      《礼记》原名《小戴礼记》，又名《小戴记》，
				      由汉宣帝时人戴圣根据历史上遗留下来的一批佚名儒家的著作合编而成。
				      据断代史学家班固在“《记》百三十一篇”下自注云“七十子后学者所记也”，
				      他认为《礼记》各篇的成书年代主要分布在战国初期至西汉初期这段时间。
				      清代人崔述认为：“凡文之体，因乎其时……《大学》之文繁而尽，又多排语，计其时当在战国。”
				      （《洙泗考信录·全录》）综合而论，
				      《大学》的成书时代大体在孔子、曾子之后，孟子、荀子之前的战国前期，即公元前5世纪左右，系出于曾氏之儒一派的纯儒家作品”。
				      即《大学》的成书年代应是在战国初期，其作者应是“曾氏之儒一派”，即现在学术界比较认可的战国初期曾参所作。
				</p>
				<p>
					大学之道，在明明德，在亲民，在止于至善。知止而后有定，定而后能静，静而后能安，安而后能虑，虑而后能得。物有本末，事有终始。知所先后，则近道矣。
				</p>
				<p>
					古之欲明明德于天下者，先治其国。欲治其国者，先齐其家。欲齐其家者，先修其身。欲修其身者，先正其心。欲正其心者，先诚其意。欲诚其意者，先致其知。致知在格物。物格而后知至，知至而后意诚，意诚而后心正，心正而后身修，身修而后家齐，家齐而后国治，国治而后天下平。
				</p>
				<p>
					自天子以至于庶人，一是皆以修身为本。其本乱而末治者否矣。其所厚者薄，而其所薄者厚，未之有也。此谓知本，此谓知之至也。
				</p>
				<p>
					所谓诚其意者，毋自欺也。如恶恶臭，如好好色，此之谓自谦。故君子必慎其独也。小人闲居为不善，无所不至，见君子而后厌然，掩其不善而著其善。 人之视己，如见其肺肝然，则何益矣。此谓诚于中，形于外，故君子必慎其独也。 曾子曰：“十目所视，十手所指，其严乎！”富润屋，德润身，心广体胖，故君子必诚其意。
				</p>
				<p>
					《诗》云：“瞻彼淇澳，菉竹猗猗。有斐君子，如切如磋，如琢如磨。 瑟兮僴兮，赫兮喧兮。有斐君子，终不可喧兮。”“如切如磋”者，道学也。 “如琢如磨”者，自修也。“瑟兮僴兮”者，恂傈也。“赫兮喧兮”者，威仪也。“有斐君子，终不可喧兮”者，道盛德至善，民之不能忘也。《诗》云：“於戏，前王不忘！”君子贤其贤而亲其亲，小人乐其乐而利其利，此以没世不忘也。
					《康诰》曰：“克明德。”《大甲》曰：“顾諟天之明命。”《帝典》曰： “克明峻德。”皆自明也。汤之《盘铭》曰：“苟日新，日日新，又日新。”《康诰》曰：“作新民。” 《诗》曰：“周虽旧邦，其命维新。”是故君子无所不用其极。
					《诗》云：“邦畿千里，维民所止。”《诗》云：“缗蛮黄鸟，止于丘隅。” 子曰：“于止，知其所止，可以人而不如鸟乎？”
					《诗》云：“穆穆文王，於缉熙敬止！”为人君，止于仁；为人臣止于敬；为人子，止于孝；为人父，止于慈； 与国人交，止于信。子曰：“听讼，吾犹人也。必也使无讼乎！”无情者不得尽其辞，大畏民志。此谓知本”。
				</p>
				<p>
					所谓修身在正其心者83，身有所忿懥84，则不得其正，有所恐惧，则不得其正， 有所好乐85，则不得其正，有所忧患，则不得其正。心不在焉，视而不见，听而不闻，食而不知其味。此谓修身在正其心。
				</p>
				<p>
					所谓齐其家在修其身者，人之其所亲爱而辟焉86，之其所贱恶而辟焉87，之其所畏敬而辟焉88，之其所哀矜而辟焉89，之其所敖惰而辟焉90。故好而知其恶91，恶而知其美者，天下鲜矣。故谚有之曰：“人莫知其子之恶，莫知其苗之硕92。”此谓身不修，不可以齐其家。
				</p>
				<p>
					所谓治国必先齐其家者，其家不可教而能教人者，无之。故君子不出家而成教于国93。孝者，所以事君也；弟者94，所以事长也；慈者95，所以使众也。《康诰》 曰：“如保赤子96。”心诚求之，虽不中97，不远矣。未有学养子而后嫁者也。一家仁，一国兴仁；一家让98，一国兴让；一人贪戾99，一国作乱，其机如此100。此谓一言偾事101， 一人定国。尧、舜率天下以仁102，而民从之。桀、纣率天下以暴103，而民从之。其所令反其所好，而民不从。是故君子有诸己而后求诸人104，无诸己而后非诸人105。所藏乎身不恕106，而能喻诸人者107，未之有也。故治国在齐其家。《诗》云108：“桃之夭夭109， 其叶蓁蓁110。之子于归111，宜其家人112。”宜其家人，而后可以教国人。《诗》云113：“ 宜兄宜弟114。”宜兄宜弟，而后可以教国人。《诗》云115：“其仪不忒116，正是四国117。” 其为父子兄弟足法118，而后民法之也。此谓治国在齐其家。
				</p>
				<p>
					所谓平天下在治其国者，上老老而民兴孝119，上长长而民兴弟120，上恤孤而民不倍121，是以君子有絜矩之道也122。所恶于上，毋以使下，所恶于下，毋以事上；所恶于前，毋以先后；所恶于后，毋以从前；所恶于右，毋以交于左；所恶于左，毋以交于右；此之谓絜矩之道。《诗》云123：“乐只君子124，民之父母。”民之所好好之125，民之所恶恶之126，此之谓民之父母。《诗》云127：“节彼南山128，维石岩岩129。赫赫师尹130，民具尔瞻131。”有国者不可以不慎，辟，则为天下僇矣132。《诗》云133：“殷之未丧师134，克配上帝135。仪监于殷136，峻命不易137。”道得众则得国138，失众则失国。
				</p>
				<p>
					是故君子先慎乎德。有德此有人139，有人此有土，有土此有财，有财此有用140。德者本也，财者末也。外本内末141，争民施夺142。是故财聚则民散，财散则民聚。是故言悖而出者143，亦悖而入；货悖而入者144，亦悖而出。《康诰》曰：“惟命不于常145。”道善则得之146，不善则失之矣。《楚书》曰147：“楚国无以为宝，惟善以为宝148。”舅犯曰149：“亡人无以为宝，仁亲以为宝150。”
				</p>
				<p>
					《秦誓》曰151：“若有一介臣，断断兮无他技152，其心休休焉153，其如有容焉154。人之有技，若己有之；人之彦圣155，其心好之，不啻若自其口出156。实能容之157，以能保我子孙黎民，尚亦有利哉！人之有技，媢疾以恶之158；人之彦圣，而违之俾不通159：实不能容，以不能保我子孙黎民，亦曰殆哉160！”唯仁人放流之161，迸诸四夷162，不与同中国163。此谓唯仁人为能爱人，能恶人。见贤而不能举164，举而不能先165，命也166；见不善而不能退167，退而不能远，过也168。好人之所恶169，恶人之所好，是谓拂人之性170，菑必逮夫身171。是故君子有大道172，必忠信以得之，骄泰以失之173。
				</p>
				<p>
					生财有大道，生之者众174，食之者寡175，为之者疾176，用之者舒177，则财恒足矣。仁者以财发身178，不仁者以身发财。未有上好仁而下不好义者也，未有好义其事不终者也179，未有府库财非其财者也180。孟献子曰181：“畜马乘182，不察于鸡豚；伐冰之家183，不畜牛羊；百乘之家184，不畜聚敛之臣185。与其有聚敛之臣，宁有盗臣186。”此谓国不以利为利，以义为利也。长国家而务财用者187，必自小人矣。彼为善之188，小人之使为国家189， 灾害并至。虽有善者，亦无如之何矣190！此谓国不以利为利，以义为利也。 [17] 
				</p>
			</div>
			<div id="scroll">
				<div id="box"></div>
			</div>
		</div>
	</body>
</html>
<script type="text/javascript">
	var oWarp = document.getElementById("warp");
	var oCount = document.getElementById("count");
	var oScroll = document.getElementById("scroll");
	var oBox = document.getElementById("box");
	//设置滚动条兼容
	var mousewheelevt = (/Firefox/i.test(navigator.userAgent))? "DOMMouseScroll" : "mousewheel";
	//事件绑定兼容问题
	//传参三个obj是对象，type是事件，fn是方法
	function addEvent(obj,type,fn){
		if (obj.addEventListener) {  //如果对象可以使用addEventListener方法的话第二个参数不需要加on		高版本浏览器
			obj.addEventListener(type,fn);
		}else if(obj.attachEvent){	//如果对象可以使用attachEvent方法的话第二个参数需要加on 	低版本浏览器
			obj.attachEvent('on' + type,fn);
		}
	}
	//滚动条滚动方向兼容(獲取滾條的值)
	function getWD(e){		//封装一个getWd方法
		var e = e || window.event;	//浏览器的兼容
//		var btn = document.getElementById('btn');//一个按钮
//		btn.onclick = function(event){//给btn绑定一个点击事件
//		//其他浏览器会在点击发生的时候，把事件对象当作参数传递过来
//	  	alert('其他浏览器：' + event);
//	  	//在ie浏览器中，这个event变量是空，它会在全局的window上
//	  	alert('ie浏览器：' + window.event);
		/**
		 * ie的document对象有一个all属性，
		 * 它的里面存放了页面的所有标签，而其它浏览器是没有的，
		 * 所以在ie中，事件对象的传播会绑定在全局的windows上，
		 * 所以ie浏览器肯定是都支持window.event的
		 */
		if (e.wheelDelta) {		//如果可以使用wheelDelta方法直接返回
			return e.wheelDelta;
		} else{
			return e.detail;	//else使用detail方法
		}
	}
	var step = 0;	//纍加器
	var num = 0;	//纍加器
	//將左邊的内容高度進行等分使其能與右邊滾輪滑動次數相等
	var a = (oCount.offsetHeight - oWarp.offsetHeight) / 58;
	addEvent(oWarp,mousewheelevt,function(e){	//添加事件監聽    元素名，添加的方法，事件
		//向下滑动
		if (getWD(e) < 0) {	//如果滾條的值為負數
			step += 10;		//step每次加10
			num += a;		//num每次加a
			//右邊滾條
			if (step > 580) {	//如果step的值大於580時
				step = 580;		//step的值==580(防止下邊越界)
			}
			//左邊内容
			if (num > oCount.offsetHeight - oWarp.offsetHeight) {	//num大於盒子的最大高度-縂盒子的高度
				num = oCount.offsetHeight - oWarp.offsetHeight;		//num就等於盒子的最大高度-縂盒子的高度
			}
			oCount.style.top = -num + "px";		//改變内容的top值
			oBox.style.top = step + "px";		//改變右邊滾條的top值
		} else{		//向上滑動
			step -= 10;			//向上每次減去10
			num -= a;		//向上每次減去a
			if (step < 0) {		//如果step小於0
				step = 0;		//step == 0 (防止上邊越界)
			}
			if (num < 0) {	//如果num小於0
				num = 0;	//num==0(防止上邊越界)
			}
			oCount.style.top = -num + "px";		//改變内容的top值
			oBox.style.top = step + "px";		//改變右邊滾條的top值
		}
	});
	//拖拽效果
	//获取每拖拽1px，左边要改变的值
	var heiY = (oCount.offsetHeight - oWarp.offsetHeight) / 580;	
	oBox.onmousedown=function(e){	//添加鼠标按下效果
		var disY = e.clientY - oBox.offsetTop;	//获取到当前位置到边缘的距离
		document.onmouseover = function(e){		//给文档添加鼠标进去事件
			var e = e || window.event;	//兼容
			var to = e.clientY - disY;	//每次移动后的距离
			if (to <= 0) {	//防止上边越界
				to = 0;
			}
			if (to >= 580) {	//防止下边越界
				to = 580;
			}
			step = to;	//将to赋值给step
			num = heiY * to;	//左边移动的值
			oBox.style.top = step + "px";	//改变滚条样式
			oCount.style.top = -num + "px";	//改变内容样式
		}
		document.onmouseup = function(){	//清空进入事件
			document.onmouseover = null;
		}
	}
	//点击效果
	oScroll.onclick = function(e){
		var topY = e.clientY - oWarp.offsetTop;
		if (topY > 580) {
			topY = 580;
		}
		step = topY;
		num = topY * heiY;
		oCount.style.top = -num + "px";
		oBox.style.top = step + "px";
	}
</script>