<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>求和</title>
		<style type="text/css">
			body{color:#999;font:12px/1.5 Tahoma;}
			input{width: 400px;height: 50px;font-size: 20px;border-radius: 10px;}
			span{font-size: 20px;}
			button{width: 100px;height: 40px;font-size: 18px;border-radius: 5px;color: white;}
			#outer{width:500px;margin:0 auto;}
			#outer input{padding:3px;border:1px solid #ccc;font-family:inherit;width:220px;margin-right:10px;}
			.sum{font-size:30px;color:red;}
		</style>
	</head>
	<body>
		<label><input type="text" value="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15" /><span>输入数字求和，数字之间用半角","号分隔</span></label>
	    <p><button>求和</button></p>
	    <strong class="sum"></strong>
		<script type="text/javascript" src="js/sum.js"></script>
	</body>
</html>
<script type="text/javascript">
	//1.获取元素
	var oInp = document.getElementsByTagName("input")[0];
	var oBut = document.getElementsByTagName("button")[0];
	var oStrong = document.getElementsByTagName("strong")[0];
	//2.添加键盘事件约束用户输入
	oInp.onkeyup = function(){
		//a.添加正则表达式除数字或者，号的其他字符全部转换成空
		this.value = this.value.replace(/[^(\d)|(,)]/,"");
	}
	//3.添加点击事件求和
	oBut.onclick = function(){
		//a.创建累加器
		var sum = 0;
		//b.创建数组接收输入框获取的值并以，号分割
		var newArray = oInp.value.split(",");
		//c.循环遍历数组进行累加
		for (var i = 0 ; i < newArray.length ; i++) {
			sum += parseInt(newArray[i]);			
		}
		//d.将求出的和传给strong并打印到页面
		oStrong.innerHTML = sum;
	}
</script>